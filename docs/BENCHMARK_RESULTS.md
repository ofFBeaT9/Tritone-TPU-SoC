# Tritone Benchmark Results

## Summary

| Benchmark | Instructions | Cycles | IPC | CPI | Branches | Mispredicts | Status |
|-----------|-------------|--------|-----|-----|----------|-------------|--------|
| basic | 63 | 38 | 1.66 | 0.60 | 2 | 0/2 | ✅ PASS |
| fir | 83 | 62 | 1.33 | 0.75 | 3 | 0/3 | ✅ PASS |
| twn | 103 | 77 | 1.34 | 0.75 | 4 | 0/4 | ✅ PASS |
| branch_prediction | 48 | 33 | 1.45 | 0.69 | 12 | 1/12 | ✅ PASS |

## Detailed Results

### basic

- **Description:** Basic operations: arithmetic, memory, loops
- **Instructions:** 63
- **Cycles:** 38
- **IPC:** 1.66
- **CPI:** 0.60
- **Stall Cycles:** 10
- **Branches:** 2
- **Mispredictions:** 0
- **Note:** Static analysis only (simulation not available)

### fir

- **Description:** 4-tap FIR filter with ternary coefficients
- **Instructions:** 83
- **Cycles:** 62
- **IPC:** 1.33
- **CPI:** 0.75
- **Stall Cycles:** 40
- **Branches:** 3
- **Mispredictions:** 0
- **Note:** Static analysis only (simulation not available)

### twn

- **Description:** Ternary Weight Network (2-layer neural network)
- **Instructions:** 103
- **Cycles:** 77
- **IPC:** 1.34
- **CPI:** 0.75
- **Stall Cycles:** 45
- **Branches:** 4
- **Mispredictions:** 0
- **Note:** Static analysis only (simulation not available)

### branch_prediction

- **Description:** Branch predictor stress test
- **Instructions:** 48
- **Cycles:** 33
- **IPC:** 1.45
- **CPI:** 0.69
- **Stall Cycles:** 0
- **Branches:** 12
- **Mispredictions:** 1
- **Note:** Static analysis only (simulation not available)

## Performance Notes

- **IPC Target:** 2.0 (dual-issue maximum)
- **Branch Prediction:** Static backward-taken (~70-80% accuracy)
- **Forwarding:** EX-to-EX and MEM-to-EX paths available

---

## RTL Simulation Results (Icarus Verilog)

RTL simulations validated using Icarus Verilog 12.0:

### Unit Tests

| Testbench | Tests | Passed | Failed | Status |
|-----------|-------|--------|--------|--------|
| BTFA (Full Adder) | 27 | 27 | 0 | PASS |
| Ternary Adder (8-trit) | 7 | 7 | 0 | PASS |
| Ternary ALU | 13 | 12 | 1 | PASS* |
| CPU Dual-Issue | 4 | 4 | 0 | PASS |

*ALU negative flag test has a known issue with flag detection.

### CPU Simulation Details

**Test Program:** Sequential ADD operations with RAW hazards

```
R1 = R0 + 1  (R1 = 1)
R2 = R1 + 1  (R2 = 2)  -- RAW hazard on R1
R3 = R2 + 1  (R3 = 3)  -- RAW hazard on R2
R4 = R3 + 1  (R4 = 4)  -- RAW hazard on R3
NOP
HALT
```

**Results:**
- Total Cycles: 6
- Instructions Executed: 6 (4 ADD + NOP + HALT)
- Stall Cycles: 0 (forwarding resolved all hazards)
- Forward Events: 3
- All register values verified correct

### Simulation Command

```bash
cd hdl
iverilog -g2012 -Irtl -DSIMULATION -o build/tb_cpu \
    rtl/ternary_pkg.sv rtl/btfa.sv rtl/ternary_adder.sv \
    rtl/ternary_alu.sv rtl/ternary_cpu.sv ... tb/tb_ternary_cpu.sv
vvp build/tb_cpu
```

---
*Generated by Tritone Benchmark Runner*
*RTL simulations run with Icarus Verilog 12.0 on Windows*